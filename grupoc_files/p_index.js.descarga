"use strict";(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[767],{113:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r,o,s,i,a=n(586),c=n(124),l=n(457),u=n(525),d=n(902),m=n(609),p=n(920),f=n(158),h=n(120),w=n(767),v=n(290),g=n(676),y=n(271),E=n(967),b={babelStandalone:["https://g.alicdn.com/code/lib/babel-standalone/7.25.8/babel.min.js"],antd:["https://g.alicdn.com/code/lib/dayjs/1.11.13/dayjs.min.js","https://g.alicdn.com/code/lib/antd/5.21.4/antd.min.js"],"@ant-design/icons":["https://g.alicdn.com/code/lib/ant-design-icons/5.5.1/index.umd.min.js"],three:["https://g.alicdn.com/qwenweb/qwen-chat-cdn/0.0.1/public/three/three.js"],p5:["https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"],"framer-motion":["https://g.alicdn.com/qwenweb/qwen-chat-cdn/0.0.1/public/framer-motion/framer-motion.js"]},S={"qwenlm.io":"prod","pre-qwenlm-box.alibaba-inc.com":"pre","dev.aliyun.com":"dev"}[window.location.host]||"dev",x=function(){(0,y.useEffect)(function(){var e=new window.AES("prod"===S?{pid:"qwen-webui-artifacts",uid:"",username:""}:{pid:"pre-qwenlm-artifacts",uid:"",username:""}),t=window.AESPluginPV,n=window.AESPluginEvent,r=window.AESPluginJSError,o=window.AESPluginAPI,s=window.AESPluginResourceError,i=window.AESPluginPerf,a=window.AESPluginEventTiming;e.use([t,n,r,o,s,i,a])},[])};function _(e){var t=e.i18nTitle,n=e.theme,r=e.mobile,o=e.errStr,s=(0,y.useMemo)(function(){return r?"dark"===n?"#1A1A1A":"#fff":"dark"===n?"#262626":"#F7F8FC"},[r,n]);return(0,v.BX)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:s},children:[(0,v.BX)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10334",width:"80",height:"80",fill:"dark"===n?"#3A3A3E":"#E8EAF2",children:[(0,v.tZ)("path",{d:"M114.602667 716.8a42.666667 42.666667 0 0 0 21.333333 36.949333l354.730667 204.8a42.666667 42.666667 0 0 0 42.666666 0l112.384-64.853333a42.666667 42.666667 0 0 0-42.666666-73.898667L512 872.362667l-312.064-180.181334V331.861333L512 151.68l312.064 180.181333v178.901334a42.666667 42.666667 0 1 0 85.333333 0V307.2a42.666667 42.666667 0 0 0-21.333333-36.992l-354.730667-204.8a42.666667 42.666667 0 0 0-42.666666 0l-354.730667 204.8a42.666667 42.666667 0 0 0-21.333333 36.949333v409.6z","p-id":"10335"}),(0,v.tZ)("path",{d:"M129.365333 379.050667L469.333333 559.018667V896h85.333334v-336.981333l339.968-179.968-39.936-75.434667L512 485.12 169.301333 303.616l-39.936 75.434667z","p-id":"10336"}),(0,v.tZ)("path",{d:"M798.165333 652.501333L853.333333 707.669333l55.168-55.168a42.666667 42.666667 0 0 1 60.330667 60.330667L913.664 768l55.168 55.168a42.666667 42.666667 0 0 1-60.330667 60.330667L853.333333 828.330667l-55.168 55.168a42.666667 42.666667 0 0 1-60.330666-60.330667L793.002667 768l-55.168-55.168a42.666667 42.666667 0 1 1 60.330666-60.330667z","p-id":"10337"})]}),(0,v.tZ)("p",{style:{height:"22px",fontWeight:500,fontSize:"14px",textAlign:"center",lineHeight:"22px",color:"dark"===n?"#FAFAFC":"#2C2C36",marginTop:"28px",marginBottom:"8px"},children:t}),(0,v.tZ)("p",{style:{fontSize:"12px",textAlign:"center",lineHeight:"18px",width:"20rem",margin:"0",color:"dark"===n?"#C8CAD9":"#8F91A8"},children:o})]})}var M=n(629),A=n(751);window.React=y,window.ReactDOM=E;var D=[],R=!0,j="",k=(r=(0,a._)(function(e){return(0,w.Jh)(this,function(t){return[2,new Promise(function(t){var n=document.createElement("script");n.src=e,n.nonce=j,document.body.appendChild(n),n.onload=function(){t("")}})]})}),function(e){return r.apply(this,arguments)}),C=(o=(0,a._)(function(){var e;return(0,w.Jh)(this,function(t){return D=(0,f._)(new Set(D)),e=[],D.forEach(function(t){var n=b[t]||[];e.push.apply(e,(0,f._)(n))}),[2,Promise.all(e.map(function(e){return k(e)}))]})}),function(){return o.apply(this,arguments)}),L=function(e){var t=(0,M.Fr)(e);return console.log("cusRequire: ",t,window[t],window[(0,M.fm)(t)]),window[t]||window[(0,M.fm)(t)]||{}},I=function(){var e=!0,t=!1,n=void 0;try{for(var r,o=D[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;if("react"!==s&&!b[s])return!1}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return!0},q=function(e){var t=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;"ImportDefaultSpecifier"===i.type&&"React"===i.local.name&&(R=!1)}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}};function P(){var e=(0,m._)((0,y.useState)(""),2),t=e[0],n=e[1],r=(0,m._)((0,y.useState)(""),2),o=r[0],s=r[1],f=(0,m._)((0,y.useState)(""),2),E=f[0],S=f[1],k=(0,m._)((0,y.useState)(""),2),P=k[0],T=k[1],F=(0,m._)((0,y.useState)(!1),2),J=F[0],Z=F[1],B=(0,m._)((0,y.useState)(!1),2),U=B[0],N=B[1],O=(0,m._)((0,y.useState)(""),2),z=O[0],V=O[1],H=(0,m._)((0,y.useState)(""),2),X=H[0],Y=H[1],W=(0,m._)((0,y.useState)(i.NO_READY),2),$=W[0],G=W[1],K=(0,m._)((0,y.useState)(!1),2),Q=K[0],ee=K[1];x();var et=(0,y.useCallback)(function(){console.log("postDependencyMessage"),window.parent.postMessage({type:"dependency",dependencies:D},"*")},[]),en=(0,y.useCallback)(function(){console.log("postOnloadMessage"),setTimeout(function(){window.parent.postMessage({type:"codeOnload"},"*")},0)},[]),er=(0,y.useCallback)(function(){console.log("postRetryMessage"),window.parent.postMessage({type:"codeRetry"},"*")},[]);if((0,y.useEffect)(function(){var e,t=(e=(0,a._)(function(e){var t;return(0,w.Jh)(this,function(n){return"screenshot"===(t=e.data).type&&(console.log("screen shot"),setTimeout((0,a._)(function(){var e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,M.fe)()];case 1:return e=n.sent().toDataURL("image/jpeg",.5),window.parent.postMessage({type:"screenshot",dataUrl:e,postData:t},"*"),[2]}})}),500)),[2]})}),function(t){return e.apply(this,arguments)});return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}},[]),(0,y.useEffect)(function(){var e=function(e){var t=e.data;if(j=t.nonceUid,t.theme&&S(t.theme),t.i18nText&&T(t.i18nText),t.mobile&&Z(t.mobile),t.isRetry&&ee(t.isRetry),["react","jsx","tsx"].includes(t.type)){n(t.code),s(t.type);var r=document.createElement("script");r.src=b.babelStandalone[0],r.nonce=t.nonceUid,r.onload=(0,a._)(function(){var e,n,r,o,s,a,m,f,v,g,E;return(0,w.Jh)(this,function(w){switch(w.label){case 0:if(w.trys.push([0,4,,5]),e="tsx"===t.type?window.Babel.transform(t.code,{presets:["env","react","typescript"],plugins:["transform-modules-commonjs",{visitor:{ImportDeclaration(e){var t=e.node.source.value;D.push(t),q(e.node.specifiers)}}}],filename:"file.tsx"}):window.Babel.transform(t.code,{presets:["env","react"],plugins:["transform-modules-commonjs",{visitor:{ImportDeclaration(e){var t=e.node.source.value;D.push(t),q(e.node.specifiers)}}}]}),console.log("dependencies: ",D),et(),!I())return[3,2];return G(i.UMD),[4,C()];case 1:return w.sent(),r={exports:n={}},(0,M.MJ)(e.code,{exports:n,module:r,require:L}),o=n.default,s=function(e){(0,u._)(n,e);var t=(0,h._)(n);function n(e){var r;return(0,c._)(this,n),(r=t.call(this,e)).state={hasError:!1,error:null},r}return(0,l._)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Component Error:",e,t),(0,M.qJ)(null==e?void 0:e.message),N(!0),V((null==e?void 0:e.message)||"")}},{key:"componentDidMount",value:function(){!this.state.hasError&&this.props.onRenderSuccess&&this.props.onRenderSuccess()}},{key:"componentDidUpdate",value:function(e,t){t.hasError&&!this.state.hasError&&this.props.onRenderSuccess&&this.props.onRenderSuccess()}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(y.Component),(a=document.getElementById("root"))?(0,A.s)(a).render((0,y.createElement)(s,{onRenderSuccess:en},(0,y.createElement)(o,{}))):(m=new MutationObserver(function(){var e=document.getElementById("root");e instanceof HTMLElement&&(m.disconnect(),(0,A.s)(e).render((0,y.createElement)(s,{onRenderSuccess:en},(0,y.createElement)(o,{}))))})).observe(document.body,{childList:!0,subtree:!0}),[3,3];case 2:var b,S;console.log("\u4E0D\u6EE1\u8DB3umd\u6761\u4EF6\uFF0C\u4F7F\u7528ESM\u65B9\u5F0F"),Y(JSON.stringify(f={imports:(0,d._)({},(b=D,(S={}).react=M.My.react,S["react-dom/client"]=M.My["react-dom/client"],b.forEach(function(e){if("react"!==e&&"katex/dist/katex.min.css"!==e){if(M.My[e]){S[e]=M.My[e];return}var t=(0,p._)(e.split("/")),n=t[0],r=t.slice(1).join("/");r?S[e]="https://esm.sh/".concat(n,"@latest/").concat(r,"?deps=react@19.1.1"):S[e]="https://esm.sh/".concat(n,"@latest?deps=react@19.1.1")}}),S))})),G(i.ESM),console.log("1111",(0,M.tE)(t.code,JSON.stringify(f),R,D)),w.label=3;case 3:return[3,5];case 4:return console.log("error111: ",v=w.sent()),N(!0),V((null===(g=v)||void 0===g?void 0:g.message)||""),(0,M.qJ)(null===(E=v)||void 0===E?void 0:E.message),[3,5];case 5:return[2]}})}),document.body.appendChild(r)}else["html","svg+xml","svg","mermaid"].includes(t.type)?(console.log("html type: ",(0,M.Tu)(t.code,j)),s(t.type),setTimeout(function(){n(t.code),console.log("setcode time",Date.now()),en()},200)):"error"===t.type&&(N(!0),V(t.error))};return window.addEventListener("message",e),window.parent.postMessage({type:"codeIframeReady"},"*"),function(){N(!1),V(""),window.removeEventListener("message",e)}},[en]),(0,y.useEffect)(function(){(0,M.Ab)({code:t,type:o,nonceUid:j})},[t,o]),(0,y.useEffect)(function(){console.log("iserror",U)},[U]),U){if(!(z.includes("Uncaught InvalidStateError")||z.includes("Uncaught IndexSizeError"))||Q)return(0,v.tZ)(_,{i18nTitle:P,theme:E,mobile:J,errStr:z});console.log("handleRetry"),N(!1),V(""),er()}return(0,v.BX)(g.Fragment,{children:[["react","jsx","tsx"].includes(o)&&$===i.UMD?(0,v.tZ)("div",{id:"root",className:"root"}):null,["react","jsx","tsx"].includes(o)&&$===i.ESM?(0,v.tZ)("iframe",{className:"root",id:"htmlIframe",sandbox:"allow-scripts allow-forms",nonce:j,srcDoc:(0,M.tE)(t,X,R,D)}):null,["html","svg+xml","svg"].includes(o)&&(0,v.tZ)("iframe",{className:"root",id:"htmlIframe",sandbox:"allow-scripts allow-forms",style:{width:"100%",height:"100%"},nonce:j,srcDoc:(0,M.Tu)(t,j)}),"mermaid"===o&&(0,v.tZ)("iframe",{id:"mermaidIframe",className:"root",nonce:j,srcDoc:(0,M.z$)(t,j)})]})}(s=i||(i={})).NO_READY="noReady",s.UMD="umd",s.ESM="esm"}}]);